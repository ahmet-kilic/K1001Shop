
{% extends 'base.html' %}


{% block content %}
<body class="grey lighten-3">

  <!-- Navbar -->
  {% include 'includes/navbar.html' %}
  <!-- Navbar -->

  <!--Main layout-->
  <main>
    <div class="container wow fadeIn">

      <!-- Heading -->
      <h2 class="my-5 h2 text-center">Checkout form</h2>

      <!--Grid row-->
      <div class="row">

        <!--Grid column-->
        <div class="col-md-8 mb-4">

          <!--Card-->
          <div class="card">

            <!--Card content-->
            <form class="card-body">

              <!--Grid row-->
              <div class="row">

                <!--Grid column-->
                <div class="col-md-6 mb-2">
                  <!--firstName-->
                  <div class="">
                    <fieldset disabled>
                      <label for="firstName" class="">First name</label>
                      <input type="text" id="firstName" value="{{ user.first_name }}" class="form-control">
                    </fieldset>
                  </div>

                </div>
                <!--Grid column-->

                <!--Grid column-->
                <div class="col-md-6 mb-2">

                  <!--lastName-->
                  <div class="">
                    <fieldset disabled>
                      <label for="lastName" class="">Last name</label>
                      <input type="text" id="lastName" value="{{ user.last_name }}" class="form-control">
                    </fieldset>
                  </div>

                </div>
                <!--Grid column-->

              </div>
              <!--Grid row-->

              <!--Username-->

              <!--email-->
              <div class="">
                <fieldset disabled>
                  <label for="email" class="">Email</label>
                  <input type="text" id="email" class="form-control" value="{{ user.email }}">
                </fieldset>
              </div>
              <div class="mt-3">
                <p>
                Please confirm your information above. If the information is not matching, please <a href="{% url 'change_settings' %}">change your settings.</a>
              </div>
              <!--address-->
            
              <hr>
              
              <div class="card-wrapper"></div>

              <div class="form-container active">
                  <input placeholder="Card number" type="tel" name="number" class="mt-3 form-control unknown jp-card-invalid">
                  <input placeholder="Name on card" type="text" name="name" class="form-control jp-card-valid">
                  <input placeholder="MM/YY" type="tel" name="expiry" class="form-control">
                  <input placeholder="CVC" type="number" name="cvc" class="form-control">
              </div>

            
            </div>
              <hr class="mb-4">
              <button class="btn btn-primary btn-lg btn-block" type="submit">Continue to checkout</button>



            </form>

          </div>
          <!--/.Card-->

        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-md-3 mb-4">

          <!-- Heading -->
          <h4 class="d-flex justify-content-between align-items-center mb-3">
            <span class="text-muted">Your cart</span>
            <span class="badge badge-secondary badge-pill">{{ order.items.count }}</span>
          </h4>

          <!-- Cart -->
          <ul class="list-group mb-3 z-depth-1">
            {% for order_item in order.items.all %}
              <li class="list-group-item d-flex justify-content-between lh-condensed">
                <div>
                  <h6 class="my-0">{{ order_item.item.name }} </br> x {{ order_item.quantity }}</h6>
                  <small class="text-muted">{{ order_item.item.category.title }}</small>
                </div>
                <span class="text-muted">₺{{ order_item.get_final_price }}</span>
              </li>
            {% endfor %}
            
            <li class="list-group-item d-flex justify-content-between">
              <span>Total (USD)</span>
              <strong>₺ {{ order.get_total }}</strong>
            </li>
          </ul>
          <!-- Cart -->

          <!-- Promo code -->
          
          <!-- Promo code -->

        </div>
        <!--Grid column-->

      </div>
      <!--Grid row-->

    </div>
  </main>
  <!--Main layout-->

  

</body>

<script type="text/javascript">
  // jQuery
  $('form').card({
    container: '.card-wrapper'
  });

  // Vanilla JavaScript
  new Card({
    form: document.querySelector('form'),
    container: '.card-wrapper'
  });
</script>

{% endblock %}